{"version":3,"file":"component---src-pages-listview-js-9e3997eb64f58efb955b.js","mappings":"sPAyGA,UAzFkB,WAEhB,IAAMA,EAAW,SAACC,GAChB,IAAIC,EAAgB,IAAIC,KAAKC,eAAe,QAAS,CACnDC,MAAO,UACPC,IAAK,UACLC,KAAM,UACNC,OAAQ,YACPC,OAAOC,KAAKC,MAAMV,EAAMW,OAM3B,OACE,gBAAC,IAAD,KACE,gBAAC,IAAD,CAAKC,UAAU,OAAOC,MAAO,GAAOC,KAAK,QAAQC,EAAG,GAApD,SAA8Dd,GAC9D,gBAAC,IAAD,CAAKW,UAAU,OAAOC,MAAO,GAAOC,KAAK,QAAQC,EAAG,GAApD,QAA6Df,EAAMgB,KAAKC,QAAQ,GAAhF,MACA,gBAAC,IAAD,CAAY,aAAW,SAASH,KAAK,QAAQI,QARlC,SAACC,GACdnB,EAAMoB,SAASpB,EAAMqB,SAQjB,gBAAC,IAAD,SAOFC,EAAW,WAGf,IAAIC,EACAC,EAAe,IAAIC,MAIvB,GAF4B,oBAAjBC,eAAgCH,EAAqBG,aAAaC,QAAQ,iBAE1D,OAAvBJ,EACFC,EAAe,IAAIC,WAEnB,IACED,EAAeI,KAAKlB,MAAMa,GAC1B,MAAOJ,IAKX,OAAiCU,EAAAA,EAAAA,UAASL,GAAnCM,EAAP,KAAgBC,EAAhB,KAEMC,EAAmB,SAACX,GACxB,IAAMY,EAAaH,EAAQI,QAAO,SAACC,EAASC,GAAV,OAAgBf,GAASe,KAC3DL,EAAcE,GACdV,EAAqBK,KAAKS,UAAUJ,GACR,oBAAjBP,cAAgCA,aAAaY,QAAQ,eAAgBf,IAG9EgB,EAAY,EAEhB,OACE,gBAAC,IAAD,KACE,gBAAC,IAAD,CAAMC,MAAO,CAAEC,UAAW,KAAMC,SAAU,SACvClB,EAAamB,KAAI,SAACC,EAAOvB,GAExB,OADAkB,GAAaK,EAAM5B,KAEjB,gBAACjB,EAAD,CACEY,KAAMiC,EAAMjC,KACZK,KAAM4B,EAAM5B,KACZ6B,IAAKD,EAAMjC,KAAKmC,WAChBzB,MAAOA,EACPD,SAAUY,OAIhB,gBAAC,IAAD,KACE,gBAAC,IAAD,CAAKe,GAAI,CAAEC,WAAY,OAAQC,SAAU,KAAzC,UAAuDV,EAAUtB,QAAQ,GAAzE,OAEF,gBAAC,IAAD,KACE,gBAAC,EAAAiC,KAAD,CAAMC,GAAG,IAAIX,MAAO,CAACY,eAAgB,SAAU,gBAAC,IAAD,CAAQC,QAAQ,YAAhB,gBASzD,OACE,gBAAC/B,EAAD","sources":["webpack://gatsby-material-typescript-starter/./src/pages/listview.js"],"sourcesContent":["import React from 'react'\r\n\r\nimport List from '@material-ui/core/List'\r\nimport ListItem from '@material-ui/core/ListItem'\r\n\r\nimport Button from '@material-ui/core/Button'\r\n\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\n\r\nimport Box from '@material-ui/core/Box'\r\n\r\nimport { useState } from \"react\";\r\n\r\nimport { Link } from \"gatsby\"\r\n\r\nconst IndexPage = () => {\r\n\r\n  const Co2Entry = (props) => {\r\n    var localizedDate = new Intl.DateTimeFormat('da-DK', {\r\n      month: 'numeric',\r\n      day: 'numeric',\r\n      hour: 'numeric',\r\n      minute: 'numeric',\r\n    }).format(Date.parse(props.date))\r\n\r\n    const remove = (e) => {\r\n      props.onDelete(props.index)\r\n    }\r\n\r\n    return (\r\n      <ListItem>\r\n        <Box component=\"span\" width={1 / 5} size=\"small\" p={1}>Dato: {localizedDate}</Box>\r\n        <Box component=\"span\" width={1 / 5} size=\"small\" p={1}>CO2: {props.co2e.toFixed(1)} g</Box>\r\n        <IconButton aria-label=\"delete\" size=\"small\" onClick={remove}>\r\n          <DeleteIcon />\r\n        </IconButton>\r\n      </ListItem>\r\n    )\r\n\r\n  }\r\n\r\n  const ListView = () => {\r\n    //const isBrowser = typeof window !== \"undefined\"\r\n\r\n    var savedEntriesAsJson\r\n    var savedEntries = new Array() // Af hensyn til Gatsby build, som ellers fejler efterfølgende. \r\n\r\n    if (typeof localStorage !== \"undefined\") { savedEntriesAsJson = localStorage.getItem(\"savedEntries\") }\r\n\r\n    if (savedEntriesAsJson === null) {\r\n      savedEntries = new Array()\r\n    } else {\r\n      try {\r\n        savedEntries = JSON.parse(savedEntriesAsJson)\r\n      } catch (e) {\r\n        // Af hensyn til Gatsby build, som fejler på ovenstående.\r\n      }\r\n    }\r\n\r\n    const [entries, updateEntries] = useState(savedEntries);\r\n\r\n    const handleRemoveItem = (index) => {\r\n      const newEntries = entries.filter((element, i) => index != i)\r\n      updateEntries(newEntries)\r\n      savedEntriesAsJson = JSON.stringify(newEntries)\r\n      if (typeof localStorage !== \"undefined\") { localStorage.setItem(\"savedEntries\", savedEntriesAsJson) }\r\n    };\r\n\r\n    var co2eTotal = 0.0\r\n\r\n    return (\r\n      <Box>\r\n        <List style={{ maxHeight: '0%', overflow: 'auto' }}>\r\n          {savedEntries.map((entry, index) => {\r\n            co2eTotal += entry.co2e\r\n            return (\r\n              <Co2Entry\r\n                date={entry.date}\r\n                co2e={entry.co2e}\r\n                key={entry.date.toString()}\r\n                index={index}\r\n                onDelete={handleRemoveItem}\r\n              />\r\n            );\r\n          })}\r\n          <ListItem>\r\n            <Box sx={{ fontWeight: 'bold', fontSize: 18 }}>Total: {co2eTotal.toFixed(1)} g</Box>\r\n          </ListItem>\r\n          <ListItem>\r\n            <Link to=\"/\" style={{textDecoration: 'none'}} ><Button variant=\"outlined\">Tilbage</Button></Link>\r\n          </ListItem>\r\n        </List>\r\n\r\n      </Box>\r\n\r\n    );\r\n  };\r\n\r\n  return (\r\n    <ListView />\r\n  )\r\n\r\n}\r\n\r\nexport default IndexPage"],"names":["Co2Entry","props","localizedDate","Intl","DateTimeFormat","month","day","hour","minute","format","Date","parse","date","component","width","size","p","co2e","toFixed","onClick","e","onDelete","index","ListView","savedEntriesAsJson","savedEntries","Array","localStorage","getItem","JSON","useState","entries","updateEntries","handleRemoveItem","newEntries","filter","element","i","stringify","setItem","co2eTotal","style","maxHeight","overflow","map","entry","key","toString","sx","fontWeight","fontSize","Link","to","textDecoration","variant"],"sourceRoot":""}